@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<Kola.Domain.Instances.AtomInstance>
@using Kola.Domain.Extensions
@{
    var type = Model.Properties.GetAsAttribute("type");
    var rel = Model.Properties.GetAsAttribute("rel");
    var href = Model.Properties.GetAsAttributeWithStaticUri("href", "cache-buster"); 
    var media = Model.Properties.GetAsAttribute("media");

    var link = string.Format("<link {0}{1}{2}{3}/>", rel, type, media, href);
    var ieConditionFormat = "{0}";

    switch (Model.Properties.Get("ie-condition"))
    {
        case "gt8":
            ieConditionFormat = "<!--[if (!IE) | (gt IE 8)]><!-->\n    {0}\n    <!--<![endif]-->";
            break;
        case "gt9":
            ieConditionFormat = "<!--[if (!IE) | (gt IE 9)]><!-->\n    {0}\n    <!--<![endif]-->";
            break;
        case "9":
            ieConditionFormat = "<!--[if IE 9]>\n    {0}\n    <![endif]-->";
            break;
        case "lt9":
            ieConditionFormat = "<!--[if lt IE 9]>\n    {0}\n    <![endif]-->";
            break;
        case "lte8":
            ieConditionFormat = "<!--[if lte IE 8]>\n    {0}\n    <![endif]-->";
            break;
    }
}
    @Html.Raw(string.Format(ieConditionFormat, link))
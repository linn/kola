{"version":3,"file":"backbone-hypermedia-amd.min.js","sources":["backbone-hypermedia-amd.js"],"names":["factory","exports","module","require","define","amd","Backbone","_","$","HypermediaModel","Model","extend","initialize","this","followed","follow","relsToFollow","promises","self","links","keys","i","length","context","key","contains","split","item","attr","get","Array","a","addPromises","model","options","Collection","b","when","apply","then","trigger","d","Deferred","resolve","promise","fetch","prototype","call","sync","method","mediaType","accepts","json","contentType","toJSON","arguments","each","jsonContext","isArray","indexOf","substr","push","HypermediaCollection","chain","filter","map","value","thing","isFunction","rels","l","rel","Error","related","urlFactory","identity","fetchOptions","url","href"],"mappings":"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"}